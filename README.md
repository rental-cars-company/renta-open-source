# moshin-backend

### Описание шагов в README:

1. **Установка зависимостей**: В этом шаге устанавливаются все зависимости проекта с помощью `poetry`, включая `pre-commit` и нужные хуки.

2. **Установка хуков**: Устанавливаются хуки `pre-commit`, чтобы они запускались при каждом коммите.

3. **Запуск линтинга и форматирования**: Объясняется, как запустить все хуки для всех файлов вручную.

4. **Конфигурация**: Примеры конфигурации для `.pre-commit-config.yaml` и `pyproject.toml` с пояснениями.

5. **Команды для работы с проектом**: Перечень полезных команд для работы с `poetry` и хуками `pre-commit`.

Этот файл README должен быть полезен для любого, кто работает с проектом, а также поможет легко настроить и использовать все инструменты.

### ВАЖНО!
   ![image](https://github.com/user-attachments/assets/bdf3150f-4ccf-4d93-84ce-16645976d905)   

   * Если при коммите у вас начал ругаться IDE, то перейдите во вкладку Source Control   
     ![image](https://github.com/user-attachments/assets/2e2ccf2f-689e-4aae-91b0-133b7b88e3ea)   
   * Из вкладки **Changes**, вам нужно нажатием на + перенести файлы в **Staged Changes** - Это говорит о том, что файлы были исправлены и ждут подтверждения   
     ![image](https://github.com/user-attachments/assets/b03cfc12-dbf7-4a2d-9479-0d08341ff81a)   
   * Пробуйте коммитить   



# Настройка линтинга и форматирования кода с использованием `pre-commit`, `black` и `ruff`

Этот проект использует несколько инструментов для обеспечения качества кода, включая `black`, `ruff`, и `pre-commit`. Мы используем `poetry` для управления зависимостями.

## Шаги для настройки проекта

## 1. Установка зависимостей

Для начала необходимо установить зависимости проекта. Используем `poetry` для установки всех нужных библиотек и инструментов.

```bash
# Установите зависимости через poetry
poetry install
```

## 2. Установка хуков pre-commit
После установки зависимостей нужно установить хуки pre-commit, которые будут запускать black, ruff, trailing-whitespace и end-of-file-fixer при каждом коммите.

Установка хуков pre-commit
```
poetry run pre-commit install
```

Этот шаг настроит автоматическое выполнение линтинга и форматирования кода при каждом коммите.

## 3. Как работает pre-commit
## Теперь, при каждом коммите, будут запускаться следующие инструменты:

* black — автоматически форматирует код согласно установленным правилам.
* ruff — линтер для Python, который проверяет код на ошибки и предупреждения.
* trailing-whitespace — удаляет лишние пробелы в конце строк.
* end-of-file-fixer — добавляет пустую строку в конец файла, если её нет.

## 4. Запуск линтинга и форматирования для всех файлов
Если вы хотите вручную запустить все хуки для всех файлов в проекте, используйте следующую команду:
Запуск всех хуков для всех файлов
```
poetry run pre-commit run --all-files
```

Важные команды для работы с проектом
Запуск линтинга и форматирования для всех файлов:
```
poetry run pre-commit run --all-files
```

Запуск линтера только для изменённых файлов:
```
poetry run pre-commit run
```

Установка зависимостей проекта:
```
poetry install
```

Обновление зависимостей:
```
poetry update
```